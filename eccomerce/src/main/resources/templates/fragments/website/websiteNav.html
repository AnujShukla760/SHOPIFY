<html xmlns:th="http://www.thymeleaf.org" lang="en">


<nav class="navbar navbar-expand-lg navbar-light custom-navbar fixed-top shadow-lg" th:fragment="website-nav">
  <div class="container-fluid px-4 px-md-4 d-flex align-items-center">
    
    <!-- Brand -->
    <a class="navbar-brand" th:href="@{/customer/showWebsite}">
      <img alt="No Image Found" th:src="@{/img/shopify.png}" style="width: 40%;" />
    </a>

    <!-- Search bar or placeholder - take remaining horizontal space -->
    <div style="flex-grow: 1; max-width: 500px; margin-left: 2rem; margin-right: 2rem;">
      <form th:action="@{/customer/showWebsite}" class="d-flex" role="search" th:if="${search}">
		<input class="form-control me-2" type="search" placeholder="Search..." aria-label="Search" name="searchInput" th:value="${searchInput}" />
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>

      <div class="card shadow-sm" th:unless="${search}" style="border: none; background: #f8f9fa;">
        <div class="card-body py-0 px-3 d-flex align-items-center gap-3">
          <i class="fa-solid fa-gift fa-2x text-warning"></i>
          <div>
            <h6 class="mb-1 fw-semibold">Donâ€™t Miss Our Exciting Offers!</h6>
            <small class="text-muted">Discover daily deals, exclusive discounts.</small>
          </div>
          <img th:src="@{/img/promo-placeholder.png}" alt="Promo" class="d-none d-md-block ms-auto" style="height: 60px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" />
        </div>
      </div>
    </div>

    <!-- Icons and account dropdown -->
    <div class="d-flex align-items-center">
      
      <div th:if="${loggedUser!=null}" class="d-flex align-items-center me-3">
        <a th:href="@{customerWishList}" class="btn icon-btn position-relative me-3" aria-label="Wishlist" >
          <i class="fa-solid fa-heart fa-lg"></i>
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" >
            <span id="wishListId" th:text="${allWishListCount != null && allWishListCount > 0 ? allWishListCount : 0}">0</span>
            <span class="visually-hidden">wishlist items</span>
          </span>
        </a>

        <a th:href="@{customerCart}" class="btn icon-btn1 position-relative" aria-label="Cart" >
          <i class="fa-solid fa-cart-plus fa-lg"></i>          
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            <span id="cartId" th:text="${allCartCount != null && allCartCount > 0 ? allCartCount : 0}">0</span>
            <span class="visually-hidden">items in cart</span>
          </span>
        </a>
      </div>

      <div class="dropdown ms-3">
        <a class="btn dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="User Account">
          <i class="fa-solid fa-person-walking-arrow-loop-left fa-lg text-primary"></i> 
          <span class="text-secondary" th:unless="${loggedUser!=null}">Account</span>
          <span class="text-secondary fw-bold" th:if="${loggedUser!=null}" th:text="${'Welcome : '+loggedUser.fullName}">Account</span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end">
          <li><a class="dropdown-item" th:href="@{/users/userLoginForm}"><i class="fa-solid fa-right-to-bracket me-2 text-primary"></i> Login</a></li>
          <li><a class="dropdown-item" th:href="@{/users/userRegister}"><i class="fa-solid fa-user-plus me-2 text-success"></i> Register</a></li>
          <li th:if="${loggedUser!=null}"><a class="dropdown-item" th:href="@{/customer/customerProfile}"><i class="fa-solid fa-user-circle me-2 text-info"></i> My Profile</a></li>
          <li th:if="${loggedUser!=null}"><a class="dropdown-item" th:href="@{/customer/customerOrder}"><i class="fa-solid fa-box me-2 text-warning"></i> Orders</a></li>
          <li th:if="${loggedUser!=null}"><a class="dropdown-item" th:href="@{/users/logout}"><i class="fa-solid fa-arrow-right-from-bracket me-2 text-danger"></i> Logout</a></li>
        </ul>
      </div>

    </div>
  </div>
</nav>

		
</html>		