<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/erp/common-css :: erpCommonCss('User List')}"></head>
<div th:replace="~{fragments/erp/loader :: loaderFragment}"></div>

<body>

	<!-- nav top -->
	<nav th:replace="~{fragments/erp/nav :: navFragment}"></nav>
	<!-- end nav top -->

	<!-- sidebar -->
	<div th:replace="~{fragments/erp/sidebar :: erpSidebarFragment}"></div>
	<!-- end sidebar -->

	<div class="content">
		<div th:replace="~{fragments/erp/message :: messageFragment}"></div>

		<div class="row">
			<div class="col-12 col-lg-12">
				<div class="card shadow-lg border-0">
					<div class="card-header text-white d-flex justify-content-between align-items-center cards">
						<h5 class="mb-0">Users List</h5>
					</div>
					<div class="card-body p-0 cardb">
						<div class="table-responsive">
							<table id="tableId" class="table table-bordered table-hover align-middle text-center">
								<thead>
									<tr>
										<th>S.No</th>
										<th>Full Name</th>
										<th>Image</th>
										<th>Email</th>
										<th>Mobile No</th>
										<th>City</th>
										<th>District</th>
										<th>Pincode</th>
										<th>Category</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="user, stat : ${usersList}">
										<td th:text="${stat.index + 1}">1</td>
										<td>
											<img th:src="${user.addressEmbeddable.image != null} ? 
												@{/users/public/showUserImage(id=${user.id})} : 
												@{/img/face.jpeg}"
											     alt="User Image"
											     class="img-thumbnail rounded-circle"
											     style="width: 100px; height: 100px; object-fit: cover;">
										</td>
										<td th:text="${user.fullName}">John Doe</td>
										<td th:text="${user.addressEmbeddable.email}">john@example.com</td>
										<td th:text="${user.addressEmbeddable.mobileNo}">9876543210</td>
										<td th:text="${user.addressEmbeddable.city}">City Name</td>
										<td th:text="${user.addressEmbeddable.district?.districtName}">District</td>
										<td th:text="${user.addressEmbeddable.pincode}">123456</td>
										<td th:text="${user.usersCategory}">CUSTOMER</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div> <!-- card-body -->
				</div> <!-- card -->
			</div>
		</div>
	</div>

	<div th:replace="~{fragments/scripts :: commonScripts}"></div>
	<script th:src="@{/js/sidebarjs/sidebar.js}"></script>
</body>
</html>
